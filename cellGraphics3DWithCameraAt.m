System`Cell[System`BoxData[System`RowBox[System`List["PRedefinePublicFunction", "[", "\n", System`RowBox[System`List[System`RowBox[System`List["Graphics3DWithCameraAt", "[", System`RowBox[System`List["graphics3dparams___", ",", System`RowBox[System`List["tWorldToView_", "?", "PoseMatrixQ"]], ",", System`RowBox[System`List["{", System`RowBox[System`List["fx_", ",", "fy_", ",", "cx_", ",", "cy_", ",", "width_", ",", "height_", ",", "zmin_", ",", "zmax_"]], "}"]]]], "]"]], " ", "\n", "\n", ",", "\"Sets up a Graphics3D view with precise depth range and projection parameters for a pinhole camera model.\nt is world-to-view transform.\"", ",", "\n", "\n", System`RowBox[System`List["Module", "[", System`RowBox[System`List[System`RowBox[System`List["{", "projection", "}"]], ",", "\n", "\n", System`RowBox[System`List["(*", System`RowBox[System`List["computed", " ", "in", " ", "Graphics3D", " ", System`RowBox[System`List["ViewMatrix", ".", "nb"]]]], "*)"]], "\n", System`RowBox[System`List[System`RowBox[System`List["projection", "=", System`RowBox[System`List["{", System`RowBox[System`List[System`RowBox[System`List["{", System`RowBox[System`List[System`RowBox[System`List["fx", "/", "width"]], ",", "0", ",", System`RowBox[System`List["cx", "/", "width"]], ",", "0"]], "}"]], ",", System`RowBox[System`List["{", System`RowBox[System`List["0", ",", System`RowBox[System`List["fy", "/", "height"]], ",", System`RowBox[System`List["cy", "/", "height"]], ",", "0"]], "}"]], ",", System`RowBox[System`List["{", System`RowBox[System`List["0", ",", "0", ",", System`RowBox[System`List[System`RowBox[System`List["(", System`RowBox[System`List["2", " ", "zmin"]], ")"]], "/", System`RowBox[System`List["(", System`RowBox[System`List["zmax", "-", "zmin"]], ")"]]]], ",", System`RowBox[System`List[System`RowBox[System`List["(", System`RowBox[System`List["2", " ", "zmax", " ", "zmin"]], ")"]], "/", System`RowBox[System`List["(", System`RowBox[System`List[System`RowBox[System`List["-", "zmax"]], "+", "zmin"]], ")"]]]]]], "}"]], ",", System`RowBox[System`List["{", System`RowBox[System`List["0", ",", "0", ",", "1", ",", "0"]], "}"]]]], "}"]]]], ";", "\n", System`RowBox[System`List["(*", System`RowBox[System`List["finally", ",", System`RowBox[System`List[System`RowBox[System`List["invert", " ", "y"]], "-", System`RowBox[System`List["axis", "*", "before", "*", "projection", " ", "to", " ", "have", " ", "windows", " ", "style", " ", "x", " ", "going", " ", "downwards"]]]]]], "*)"]], "\n", System`RowBox[System`List["projection", "=", System`RowBox[System`List["projection", ".", System`RowBox[System`List["TransformationMatrix", "@", System`RowBox[System`List["ScalingTransform", "@", System`RowBox[System`List["{", System`RowBox[System`List["1", ",", System`RowBox[System`List["-", "1"]], ",", "1"]], "}"]]]]]]]]]], ";", "\n", "\n", System`RowBox[System`List["(*", System`RowBox[System`List["camera", " ", "at", " ", "t"]], "*)"]], "\n", System`RowBox[System`List["projection", "=", System`RowBox[System`List["projection", ".", "tWorldToView"]]]], ";", "\n", "\n", System`RowBox[System`List["(*", " ", System`RowBox[System`List["Frame", " ", "to", " ", "clearly", " ", "indicate", " ", "the", " ", "size", " ", "in", " ", "pixels"]], " ", "*)"]], "\n", System`RowBox[System`List["Framed", "@", System`RowBox[System`List["Graphics3D", "[", "\n", System`RowBox[System`List["graphics3dparams", ",", "\n", System`RowBox[System`List["ViewMatrix", "->", System`RowBox[System`List["{", System`RowBox[System`List[System`RowBox[System`List["IdentityMatrix", "@", "4"]], ",", "projection"]], "}"]]]], ",", "\n", System`RowBox[System`List["Method", "->", System`RowBox[System`List["{", System`RowBox[System`List["\"RotationControl\"", "->", "None"]], "}"]]]], ",", "\n", System`RowBox[System`List["AspectRatio", "->", System`RowBox[System`List["height", "/", "width"]]]], ",", " ", System`RowBox[System`List["ImageSize", "->", System`RowBox[System`List["{", System`RowBox[System`List["width", ",", "height"]], "}"]]]], ",", "\n", System`RowBox[System`List["Boxed", "->", "False"]]]], "\n", "]"]]]]]]]], "\n", "\n", "]"]]]], "\n", "]"]]], "Code", System`Rule[System`CellChangeTimes, System`List[3.6827678518577766`*^9]]]