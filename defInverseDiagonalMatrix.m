System`HoldComplete[Global`RedefinePublicFunction[Global`InverseDiagonalMatrix[System`Pattern[Global`matrix, System`Blank[]]], "give a matrix that has the inverse of the diagonal elements of matrix or 1 when this is 0. This is sometimes used for preconditioning (?)", System`DiagonalMatrix[System`Map[Global`InverseOr1, System`Diagonal[Global`matrix]]], System`Blank[], ""]]