System`Cell[System`BoxData[System`RowBox[System`List["PRedefinePublicFunction", "[", System`RowBox[System`List[System`RowBox[System`List["{", "HoldAll", "}"]], ",", System`RowBox[System`List["PTestRun", "[", System`RowBox[System`List[System`RowBox[System`List["blockvars", ":", System`RowBox[System`List["{", "varsSequence___", "}"]]]], ",", "test_", ",", "expected_", ",", System`RowBox[System`List["messages_List:", System`RowBox[System`List["{", "}"]]]], ",", System`RowBox[System`List["options_List:", System`RowBox[System`List["{", "}"]]]]]], "]"]], ",", "\"run test without persisting. TODO handle messages correctly\"", ",", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List["{", "result", "}"]], "~", "Module", "~", "\[IndentingNewLine]", System`RowBox[System`List["With", "[", System`RowBox[System`List[System`RowBox[System`List["{", System`RowBox[System`List["testOptions", "=", System`RowBox[System`List["options", "~", "Join", "~", System`RowBox[System`List["{", "\[IndentingNewLine]", System`RowBox[System`List["TestID", "\[Rule]", "\[IndentingNewLine]", System`RowBox[System`List["PTestNameByID", "@", System`RowBox[System`List["PTestID", "[", System`RowBox[System`List["varsSequence", System`RowBox[System`List["(*", System`RowBox[System`List[System`RowBox[System`List["<", System`RowBox[System`List[System`RowBox[System`List["-", " ", "retain"]], " ", "compatibility", " ", "with", " ", "old", " ", "id", " ", "computation"]]]], ",", " ", System`RowBox[System`List["should", " ", "be", " ", "blockvars"]]]], "*)"]], ",", "test", ",", "expected", ",", "messages", ",", "options"]], "]"]]]]]], "\[IndentingNewLine]", "}"]]]]]], "}"]], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", System`RowBox[System`List["Quiet", "@", System`RowBox[System`List["Block", "[", System`RowBox[System`List["blockvars", ",", System`RowBox[System`List["result", "=", System`RowBox[System`List["PrintEcho", "[", System`RowBox[System`List[System`RowBox[System`List["VerificationTest", "[", System`RowBox[System`List["test", ",", "expected", ",", "messages", ",", "testOptions"]], "]"]], ",", "\"PTestRun\""]], "]"]]]]]], "]"]]]]]], System`RowBox[System`List["(*", System`RowBox[System`List[System`RowBox[System`List["Check", " ", "because", " ", "VerificationTest", " ", "needs", " ", "to", " ", "see", " ", "the", " ", "messages"]], ",", " ", System`RowBox[System`List["but", " ", "PTest", " ", "crashes", " ", "on", " ", "any", " ", "messages"]]]], "*)"]], "\[IndentingNewLine]", "]"]]]]]], "\[IndentingNewLine]", "]"]]], "Input", System`Rule[System`CellChangeTimes, System`List[System`List[3.6816442880200243`*^9, 3.6816443030808263`*^9], System`List[3.6816443334867845`*^9, 3.6816443720849705`*^9], System`List[3.6816444131532393`*^9, 3.681644457882079`*^9], System`List[3.6816802572070055`*^9, 3.681680305466014`*^9], 3.6816845462217627`*^9, System`List[3.681684595204754`*^9, 3.6816846060958185`*^9], System`List[3.681755390086281`*^9, 3.681755407365122`*^9], System`List[3.6817554743369784`*^9, 3.6817554755348797`*^9], System`List[3.68175555055824`*^9, 3.6817555550413322`*^9], 3.6817556491489267`*^9, 3.682921995482258`*^9, System`List[3.682922030139536`*^9, 3.6829220377560472`*^9], System`List[3.6829220709815235`*^9, 3.6829220756193147`*^9], System`List[3.6829221921818285`*^9, 3.6829222652079954`*^9], System`List[3.682925857465541`*^9, 3.6829258660913095`*^9], System`List[3.6829263398026867`*^9, 3.6829263764234037`*^9]]], System`Rule[System`CellTags, "depersistedCell788e49e6-65c3-4fbd-bfa8-57434758cfe9"]]