System`HoldComplete[Global`RedefinePublicFunction[Global`SOPCompiledPrepare[System`Pattern[Global`rif, System`Blank[Global`RIFunction]], System`Optional[System`PatternTest[System`Pattern[Global`forceRebuild, System`Blank[]], System`BooleanQ], System`False]], "compiles and loads the sparse optimization Framework for the given function", System`Module[System`List[Global`fn, Global`fng, Global`exe, Global`link, Global`lengthz, Global`lengthfz, Global`targetName, Global`exportGeneratedText, Global`targetFile], System`CompoundExpression[System`SetDelayed[Global`fn[System`Pattern[Global`s, System`Blank[]]], System`FileNameJoin[Global`SOPCompiled$FrameworkDirectory[], Global`s]], System`SetDelayed[Global`fng[System`Pattern[Global`s, System`Blank[]]], System`FileNameJoin[System`List[Global`SOPCompiled$FrameworkDirectory[], "generated", Global`s]]], System`SetDelayed[Global`exportGeneratedText[System`Pattern[Global`fn, System`Blank[System`String]], System`Pattern[Global`t, System`Blank[]]], System`Export[Global`fng[Global`fn], Global`t, "Text"]], System`Print["rif: ", Global`RIFunctionOutputExpressionMap[Global`rif]], Global`exportGeneratedText["$CFormDefines.cpp", Global`CFormDefinesCUDAFloat[]], Global`exportGeneratedText["lengthz.cpp", System`Set[Global`lengthz, Global`RIFunctionArgumentsLength[Global`rif]]], Global`exportGeneratedText["lengthfz.cpp", System`Set[Global`lengthfz, Global`RIFunctionOutputsLength[Global`rif]]], System`Off[System`MessageName[System`StringTrim, "strse"]], Global`exportGeneratedText["f.cpp", SymbolicC`ToCCodeString[Global`RIFunctionCFormOutputArrayAssignments[Global`rif]]], Global`exportGeneratedText["df.cpp", SymbolicC`ToCCodeString[Global`RIFunctionCFormAllDerivativesIndexed[Global`rif]]], System`Set[Global`targetName, System`StringJoin["Framework", System`ToString[System`Hash[System`List[Global`RIFunctionArguments[Global`rif], Global`RIFunctionExpressionList[Global`rif]], "CRC32"]]]], System`Set[Global`targetFile, Global`fn[System`StringJoin["x64\\Debug\\", Global`targetName, ".exe"]]], System`If[System`Or[System`Not[System`FileExistsQ[Global`targetFile]], Global`forceRebuild], System`CompoundExpression[Global`TaskKill[System`StringJoin[Global`targetName, ".exe"]], System`Print[Global`MSBuild[Global`fn["Framework.sln"], System`List["/t:Rebuild", System`StringJoin["/p:TargetName=", Global`targetName]]]]]], System`With[System`List[System`Set[Global`a, System`Association[System`Rule["rif", Global`rif], System`Rule["lengthz", Global`lengthz], System`Rule["lengthfz", Global`lengthfz], System`Rule["targetName", Global`targetFile]]]], Global`SOPCompiled[Global`a]]]], System`Condition[Global`SOPCompiled[System`Pattern[Global`a, System`Blank[System`Association]]], System`FileExistsQ[Global`a["targetName"]]], "Hint: Probably compilation of Framework.sln failed. Try manually compiling it. If the log (Messages window) says 'Internal error' (nvcc error : 'ptxas' died with status 0xC0000005 (ACCESS_VIOLATION) ), just try running it again."]]