System`Cell[System`BoxData[System`RowBox[System`List[System`RowBox[System`List["PRedefinePublicFunction", "[", "\n", System`RowBox[System`List[System`RowBox[System`List["InfiniTAMRefineSceneHierarchy", "[", System`RowBox[System`List[System`RowBox[System`List["InfiniTAMSceneHierarchy", "[", System`RowBox[System`List["scenes", ":", System`RowBox[System`List["{", "__InfiniTAMScene", "}"]]]], "]"]], ",", " ", "weights_List"]], "]"]], "\n", "\n", ",", "\"High-level coarse-to-fine optimization scheme as in vsfs.pdf: Given different resolutions of the same scene,\ncompute refinement for a and d, then init higher resolution solution with this.\"", "\n", "\n", ",", " ", "\n", System`RowBox[System`List["\"First, reset A and D to some values for all of them (should have values even in areas that cannot be optimized\"", ";", "\n", System`RowBox[System`List["InfiniTAMInitAD", " ", "~", "Scan", "~", " ", "scenes"]], ";", "\n", "\n", System`RowBox[System`List["ForEach", "[", System`RowBox[System`List[System`RowBox[System`List["{", System`RowBox[System`List["i", ",", " ", System`RowBox[System`List["Length", "@", "scenes"]]]], "}"]], ",", "\n", "\n", System`RowBox[System`List[System`RowBox[System`List["l", " ", "=", " ", System`RowBox[System`List["InfiniTAMEstimateLighting", "[", " ", System`RowBox[System`List["scenes", "[", System`RowBox[System`List["[", "i", "]"]], "]"]], " ", "]"]]]], ";", System`RowBox[System`List["(*", System`RowBox[System`List["TODO", " ", "maybe", " ", "can", " ", "use", " ", "initial", " ", "estimate", " ", "from", " ", "previous", " ", System`RowBox[System`List["iteration", "?", " ", "This"]], " ", "is", " ", "a", " ", "linear", " ", "lsqr", " ", "problem", " ", "with", " ", "a", " ", "unique", " ", "solution", " ", "anyways", " ", "though"]], "*)"]], "\n", System`RowBox[System`List["Assert", "[", System`RowBox[System`List["l", "//", "NumericVectorQ"]], "]"]], ";", "\n", "\n", System`RowBox[System`List["If", "[", System`RowBox[System`List[System`RowBox[System`List["i", "=!=", "1"]], ",", " ", System`RowBox[System`List["InfiniTAMInitFineADFromCoarseAD", "[", System`RowBox[System`List[System`RowBox[System`List["scenes", "[", System`RowBox[System`List["[", "i", "]"]], "]"]], " ", ",", " ", System`RowBox[System`List["scenes", "[", System`RowBox[System`List["[", System`RowBox[System`List["i", "-", "1"]], "]"]], "]"]]]], "]"]]]], " ", "]"]], ";", " ", "\n", "\n", System`RowBox[System`List["InfiniTAMRefine", "[", System`RowBox[System`List[System`RowBox[System`List["scenes", "[", System`RowBox[System`List["[", "i", "]"]], "]"]], ",", " ", "weights", ",", " ", "l"]], "]"]]]]]], "\n", "\n", "]"]]]], "\n", "\n", ",", "Null"]], "\n", "]"]], ";"]]], "Code", System`Rule[System`CellChangeTimes, System`List[System`List[3.6841639996679916`*^9, 3.6841640017435846`*^9], 3.684164061515278`*^9, System`List[3.6856173572148256`*^9, 3.6856175013094387`*^9]]], System`Rule[System`CellTags, "depersistedCellc1810950-e499-459c-9d54-53ae45e7075a"]]