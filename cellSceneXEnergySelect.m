System`Cell[System`BoxData[System`RowBox[System`List["PRedefinePublicFunction", "[", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List["SceneXEnergySelect", "[", System`RowBox[System`List[System`RowBox[System`List["dimension", ":", System`RowBox[System`List["2", "|", "3"]]]], ",", "lightIntensityParameterCount_Integer", ",", "colorDim_Integer"]], "]"]], "\[IndentingNewLine]", ",", "\"constructs the SOP selection function, which maps variables as used in the SceneXEnergyf[] expression to variable names as given in SceneXDEnergyData\"", "\[IndentingNewLine]", ",", System`RowBox[System`List["Module", "[", System`RowBox[System`List[System`RowBox[System`List["{", "select", "}"]], ",", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["select", "[", System`RowBox[System`List["position", ":", System`RowBox[System`List["_Integer", "~", "Table", "~", "dimension"]]]], "]"]], ":=", "\[IndentingNewLine]", System`RowBox[System`List["Join", "[", System`RowBox[System`List[System`RowBox[System`List["{", "}"]], "\[IndentingNewLine]", "\[IndentingNewLine]", System`RowBox[System`List["(*", "globals", "*)"]], "\[IndentingNewLine]", ",", System`RowBox[System`List["IdentityRule", "/@", System`RowBox[System`List["Array", "[", System`RowBox[System`List["l", ",", "lightIntensityParameterCount"]], "]"]]]], "\[IndentingNewLine]", ",", System`RowBox[System`List["IdentityRule", "/@", System`RowBox[System`List["SceneXEnergyWeightNames", "[", "]"]]]], "\[IndentingNewLine]", "\[IndentingNewLine]", ",", System`RowBox[System`List["(*", System`RowBox[System`List[System`RowBox[System`List["locals", " ", "a"]], ",", "doriginal", ",", "d"]], "*)"]], "\[IndentingNewLine]", System`RowBox[System`List["Flatten", "[", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["Function", "[", System`RowBox[System`List[System`RowBox[System`List["{", "var", "}"]], ",", System`RowBox[System`List["Array", "[", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["var", "@", System`RowBox[System`List["{", "##", "}"]]]], "\[Rule]", System`RowBox[System`List["var", "[", System`RowBox[System`List["position", "+", System`RowBox[System`List["{", "##", "}"]]]], "]"]]]], "&"]], "\[IndentingNewLine]", ",", System`RowBox[System`List["Table", "[", System`RowBox[System`List["3", ",", "dimension"]], "]"]], "\[IndentingNewLine]", ",", System`RowBox[System`List["-", System`RowBox[System`List["1", "~", "Table", "~", "dimension"]]]]]], "\[IndentingNewLine]", "]"]]]], "]"]], "/@", System`RowBox[System`List["Symbol", "/@", System`RowBox[System`List["{", System`RowBox[System`List["\"doriginal\"", ",", "\"d\"", ",", "\"a\""]], "}"]]]]]], ",", "dimension"]], "]"]], System`RowBox[System`List["(*", System`RowBox[System`List[System`RowBox[System`List["prefer", " ", "Level"]], " ", "-", System`RowBox[System`List["1", " ", System`RowBox[System`List["here", "?", "!"]]]]]], "*)"]], "\[IndentingNewLine]", "\[IndentingNewLine]", ",", System`RowBox[System`List["(*", System`RowBox[System`List[System`RowBox[System`List["local", " ", "c"]], ",", " ", System`RowBox[System`List["in", " ", "all", " ", "colorDims"]]]], "*)"]], "\[IndentingNewLine]", System`RowBox[System`List["Flatten", "[", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List["Array", "[", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["Table", "[", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["(", System`RowBox[System`List["Symbol", "[", "\"c\"", "]"]], ")"]], "[", System`RowBox[System`List[System`RowBox[System`List["List", "@", "##"]], ",", "i"]], "]"]], "\[Rule]", System`RowBox[System`List[System`RowBox[System`List["(", System`RowBox[System`List["Symbol", "[", "\"c\"", "]"]], ")"]], "[", System`RowBox[System`List[System`RowBox[System`List["position", "+", System`RowBox[System`List["{", "##", "}"]]]], ",", "i"]], "]"]]]], ",", System`RowBox[System`List["{", System`RowBox[System`List["i", ",", "colorDim"]], "}"]]]], "]"]], "&"]], "\[IndentingNewLine]", ",", System`RowBox[System`List["Table", "[", System`RowBox[System`List["3", ",", "dimension"]], "]"]], "\[IndentingNewLine]", ",", System`RowBox[System`List["-", System`RowBox[System`List["1", "~", "Table", "~", "dimension"]]]]]], "\[IndentingNewLine]", "]"]], ",", "dimension"]], "]"]]]], "\[IndentingNewLine]", "]"]]]], ";", "\[IndentingNewLine]", "select"]]]], "\[IndentingNewLine]", "]"]]]], "\[IndentingNewLine]", "]"]]], "Input", System`Rule[System`CellChangeTimes, System`List[System`List[3.6802710012501726`*^9, 3.6802710112536197`*^9], System`List[3.6802713573935213`*^9, 3.680271358291642`*^9], System`List[3.680272764086754`*^9, 3.6802727737968693`*^9], System`List[3.6802744761541185`*^9, 3.680274518196557`*^9], System`List[3.680274602962325`*^9, 3.680274641649598`*^9], System`List[3.680382153228388`*^9, 3.680382175052636`*^9], 3.680384117704606`*^9, 3.6809329694533405`*^9, System`List[3.680983824900607`*^9, 3.68098384321646`*^9], System`List[3.6809838745565653`*^9, 3.680983898089932`*^9], System`List[3.680983934940897`*^9, 3.680983989270704`*^9], System`List[3.6809840278568344`*^9, 3.680984121767028`*^9], System`List[3.6810374910137854`*^9, 3.681037522928727`*^9], 3.681716839965603`*^9, System`List[3.6817169813204327`*^9, 3.6817169859925003`*^9], System`List[3.683299552637599`*^9, 3.6832996049936895`*^9]]], System`Rule[System`CellTags, "depersistedCell307d789b-07af-4ca8-bbf7-ad54d84390a5"], System`Rule[System`CellID, 340360542]]