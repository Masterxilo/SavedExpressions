System`Cell[System`BoxData[System`RowBox[System`List["PRedefinePublicFunction", "[", "\[IndentingNewLine]", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List["PositionFunction", "[", System`RowBox[System`List["list_List", ",", System`RowBox[System`List[System`RowBox[System`List["(", System`RowBox[System`List["missingAbort_", "?", "BooleanQ"]], ")"]], "~", "Optional", "~", "False"]]]], "]"]], "\[IndentingNewLine]", "\[IndentingNewLine]", ",", "\"returns a function f that returns the position (as an Integer) in the list of a given element,\ni.e. list[[PositionFunction[list][x]]] == x if x is in the list.\n\nMissing is returned when the given element is not in the list. Alternatively, Abort[] is called in this case\"", ",", "\[IndentingNewLine]", System`RowBox[System`List["Module", "[", System`RowBox[System`List[System`RowBox[System`List["{", "f", "}"]], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", System`RowBox[System`List["(*", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List["EchoUnevaluatedWithAbsoluteTiming", "@", System`RowBox[System`List["If", "[", System`RowBox[System`List["missingAbort", "\[IndentingNewLine]", ",", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["f", "[", "x_", "]"]], ":=", System`RowBox[System`List["MessageAbort", "[", System`RowBox[System`List[System`RowBox[System`List["PositionFunction", "::", "missing"]], ",", System`RowBox[System`List["Missing", "[", System`RowBox[System`List["PositionFunction", ",", "x", ",", "\"!\[Element]\"", ",", System`RowBox[System`List["Short", "@", "list"]]]], "]"]]]], "]"]]]], ";"]], "\[IndentingNewLine]", ",", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["f", "[", "x_", "]"]], ":=", System`RowBox[System`List["Missing", "[", System`RowBox[System`List["PositionFunction", ",", "x", ",", "\"!\[Element]\"", ",", System`RowBox[System`List["Short", "@", "list"]]]], "]"]]]], ";"]]]], "\[IndentingNewLine]", "]"]]]], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", System`RowBox[System`List["EchoUnevaluatedWithAbsoluteTiming", "@", System`RowBox[System`List["ForEach", "[", System`RowBox[System`List[System`RowBox[System`List["{", System`RowBox[System`List["i", ",", System`RowBox[System`List["Length", "@", "list"]]]], "}"]], ",", System`RowBox[System`List[System`RowBox[System`List["f", "@", System`RowBox[System`List["list", "[", System`RowBox[System`List["[", "i", "]"]], "]"]]]], "=", "i"]]]], "]"]]]], ";"]], "\[IndentingNewLine]", "*)"]], "\[IndentingNewLine]", System`RowBox[System`List["(*", System`RowBox[System`List["much", " ", System`RowBox[System`List["faster", ":"]]]], "*)"]], "\[IndentingNewLine]", System`RowBox[System`List["(*", "\[IndentingNewLine]", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["DownValues", "[", "f", "]"]], "=", System`RowBox[System`List["MapIndexed", "[", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["{", System`RowBox[System`List["p", "=", System`RowBox[System`List["First", "@", "#2"]]]], "}"]], "~", "With", "~", System`RowBox[System`List["(", System`RowBox[System`List[System`RowBox[System`List["HoldPattern", "[", System`RowBox[System`List["f", "@", "#1"]], "]"]], "\[RuleDelayed]", "p"]], ")"]]]], "&"]], ",", "list"]], "]"]]]], ";", "\[IndentingNewLine]", System`RowBox[System`List["If", "[", System`RowBox[System`List["missingAbort", "\[IndentingNewLine]", ",", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["f", "[", "x_", "]"]], ":=", System`RowBox[System`List["MessageAbort", "[", System`RowBox[System`List[System`RowBox[System`List["PositionFunction", "::", "missing"]], ",", System`RowBox[System`List["Missing", "[", System`RowBox[System`List["PositionFunction", ",", "x", ",", "\"!\[Element]\"", ",", System`RowBox[System`List["Short", "@", "list"]]]], "]"]]]], "]"]]]], ";"]], "\[IndentingNewLine]", ",", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["f", "[", "x_", "]"]], ":=", System`RowBox[System`List["Missing", "@", System`RowBox[System`List["HoldAllComplete", "[", System`RowBox[System`List["PositionFunction", ",", "x", ",", "\"!\[Element]\"", ",", System`RowBox[System`List["Short", "@", "list"]]]], "]"]]]]]], ";"]]]], "\[IndentingNewLine]", "]"]], ";", "\[IndentingNewLine]", "f"]], "*)"]], "\[IndentingNewLine]", System`RowBox[System`List["RulesToVerbatimFunction2", "@", System`RowBox[System`List["MapIndexed", "[", System`RowBox[System`List[System`RowBox[System`List[System`RowBox[System`List["#1", "\[Rule]", System`RowBox[System`List["First", "@", "#2"]]]], "&"]], ",", "list"]], "]"]]]]]], "\[IndentingNewLine]", "]"]]]], "\[IndentingNewLine]", "]"]]], "Input", System`Rule[System`GeneratedCell, System`True], System`Rule[System`CellAutoOverwrite, System`True], System`Rule[System`CellChangeTimes, System`List[System`List[3.6814915944665747`*^9, 3.6814916012590547`*^9], System`List[3.681491758217628`*^9, 3.681491762076906`*^9], System`List[3.6815032504345284`*^9, 3.681503253315381`*^9], 3.6816417455310016`*^9, System`List[3.6818045415430365`*^9, 3.6818046237964706`*^9], System`List[3.681804706624977`*^9, 3.6818047501403384`*^9], System`List[3.6818048031570854`*^9, 3.6818049183361483`*^9], System`List[3.6818049894712143`*^9, 3.681804993749714`*^9], System`List[3.681805036963154`*^9, 3.6818050374162703`*^9], System`List[3.681809622923999`*^9, 3.681809647246313`*^9], System`List[3.681810262993021`*^9, 3.681810267878741`*^9], System`List[3.681810317856405`*^9, 3.6818103458837304`*^9], System`List[3.6818105659511395`*^9, 3.6818105685662546`*^9], 3.681811538448552`*^9, System`List[3.6818117541001587`*^9, 3.6818117581756063`*^9], System`List[3.6818119534072638`*^9, 3.6818119621589513`*^9], 3.681812029298892`*^9, 3.683279084534688`*^9]], System`Rule[System`CellTags, "depersistedCellb7bcafda-5b84-49da-a8ba-5266a4775cd7"]]